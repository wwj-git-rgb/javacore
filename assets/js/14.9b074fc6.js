(window.webpackJsonp=window.webpackJsonp||[]).push([[14],{437:function(t,s,a){"use strict";a.r(s);var n=a(19),e=Object(n.a)({},(function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[a("h1",{attrs:{id:"java-本地化"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#java-本地化"}},[t._v("#")]),t._v(" Java 本地化")]),t._v(" "),a("blockquote",[a("p",[a("strong",[t._v("📦 本文以及示例源码已归档在 "),a("a",{attrs:{href:"https://github.com/dunwu/javacore/",target:"_blank",rel:"noopener noreferrer"}},[t._v("javacore"),a("OutboundLink")],1)])])]),t._v(" "),a("h2",{attrs:{id:"背景知识"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#背景知识"}},[t._v("#")]),t._v(" 背景知识")]),t._v(" "),a("p",[t._v("通讯的发达，使得世界各地交流越来越紧密。许多的软件产品也要面向世界上不同国家的用户。其中，语言障碍显然是产品在不同语种用户中进行推广的一个重要问题。")]),t._v(" "),a("p",[t._v("本文围绕本地化这一主题，先介绍国际标准的语言编码，然后讲解在 Java 应用中如何去实现本地化。")]),t._v(" "),a("h3",{attrs:{id:"语言编码、国家-地区编码"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#语言编码、国家-地区编码"}},[t._v("#")]),t._v(" 语言编码、国家/地区编码")]),t._v(" "),a("p",[t._v("做 web 开发的朋友可能多多少少接触过类似 "),a("strong",[t._v("zh-cn")]),t._v(", "),a("strong",[t._v("en-us")]),t._v(" 这样的编码字样。")]),t._v(" "),a("p",[t._v("这些编码是用来表示指定的国家地区的语言类型的。那么，这些含有特殊含义的编码是如何产生的呢？")]),t._v(" "),a("p",[a("a",{attrs:{href:"http://www.loc.gov/standards/iso639-2/php/English_list.php",target:"_blank",rel:"noopener noreferrer"}},[a("strong",[t._v("ISO-639")]),a("OutboundLink")],1),t._v(" 标准使用编码定义了国际上常见的语言，每一种语言由两个小写字母表示。")]),t._v(" "),a("p",[a("a",{attrs:{href:"https://www.iso.org/obp/ui/#iso:std:iso:3166:-2:ed-3:v1:en,fr",target:"_blank",rel:"noopener noreferrer"}},[a("strong",[t._v("ISO-3166")]),a("OutboundLink")],1),t._v(" 标准使用编码定义了国家/地区，每个国家/地区由两个大写字母表示。")]),t._v(" "),a("p",[t._v("下表列举了一些常见国家、地区的语言编码：")]),t._v(" "),a("table",[a("thead",[a("tr",[a("th",[t._v("国家/地区")]),t._v(" "),a("th",[t._v("语言编码")]),t._v(" "),a("th",[t._v("国家/地区")]),t._v(" "),a("th",[t._v("语言编码")])])]),t._v(" "),a("tbody",[a("tr",[a("td",[t._v("简体中文(中国)")]),t._v(" "),a("td",[t._v("zh-cn")]),t._v(" "),a("td",[t._v("繁体中文(台湾地区)")]),t._v(" "),a("td",[t._v("zh-tw")])]),t._v(" "),a("tr",[a("td",[t._v("繁体中文(香港)")]),t._v(" "),a("td",[t._v("zh-hk")]),t._v(" "),a("td",[t._v("英语(香港)")]),t._v(" "),a("td",[t._v("en-hk")])]),t._v(" "),a("tr",[a("td",[t._v("英语(美国)")]),t._v(" "),a("td",[t._v("en-us")]),t._v(" "),a("td",[t._v("英语(英国)")]),t._v(" "),a("td",[t._v("en-gb")])]),t._v(" "),a("tr",[a("td",[t._v("英语(全球)")]),t._v(" "),a("td",[t._v("en-ww")]),t._v(" "),a("td",[t._v("英语(加拿大)")]),t._v(" "),a("td",[t._v("en-ca")])]),t._v(" "),a("tr",[a("td",[t._v("英语(澳大利亚)")]),t._v(" "),a("td",[t._v("en-au")]),t._v(" "),a("td",[t._v("英语(爱尔兰)")]),t._v(" "),a("td",[t._v("en-ie")])]),t._v(" "),a("tr",[a("td",[t._v("英语(芬兰)")]),t._v(" "),a("td",[t._v("en-fi")]),t._v(" "),a("td",[t._v("芬兰语(芬兰)")]),t._v(" "),a("td",[t._v("fi-fi")])]),t._v(" "),a("tr",[a("td",[t._v("英语(丹麦)")]),t._v(" "),a("td",[t._v("en-dk")]),t._v(" "),a("td",[t._v("丹麦语(丹麦)")]),t._v(" "),a("td",[t._v("da-dk")])]),t._v(" "),a("tr",[a("td",[t._v("英语(以色列)")]),t._v(" "),a("td",[t._v("en-il")]),t._v(" "),a("td",[t._v("希伯来语(以色列)")]),t._v(" "),a("td",[t._v("he-il")])]),t._v(" "),a("tr",[a("td",[t._v("英语(南非)")]),t._v(" "),a("td",[t._v("en-za")]),t._v(" "),a("td",[t._v("英语(印度)")]),t._v(" "),a("td",[t._v("en-in")])]),t._v(" "),a("tr",[a("td",[t._v("英语(挪威)")]),t._v(" "),a("td",[t._v("en-no")]),t._v(" "),a("td",[t._v("英语(新加坡)")]),t._v(" "),a("td",[t._v("en-sg")])]),t._v(" "),a("tr",[a("td",[t._v("英语(新西兰)")]),t._v(" "),a("td",[t._v("en-nz")]),t._v(" "),a("td",[t._v("英语(印度尼西亚)")]),t._v(" "),a("td",[t._v("en-id")])]),t._v(" "),a("tr",[a("td",[t._v("英语(菲律宾)")]),t._v(" "),a("td",[t._v("en-ph")]),t._v(" "),a("td",[t._v("英语(泰国)")]),t._v(" "),a("td",[t._v("en-th")])]),t._v(" "),a("tr",[a("td",[t._v("英语(马来西亚)")]),t._v(" "),a("td",[t._v("en-my")]),t._v(" "),a("td",[t._v("英语(阿拉伯)")]),t._v(" "),a("td",[t._v("en-xa")])]),t._v(" "),a("tr",[a("td",[t._v("韩文(韩国)")]),t._v(" "),a("td",[t._v("ko-kr")]),t._v(" "),a("td",[t._v("日语(日本)")]),t._v(" "),a("td",[t._v("ja-jp")])]),t._v(" "),a("tr",[a("td",[t._v("荷兰语(荷兰)")]),t._v(" "),a("td",[t._v("nl-nl")]),t._v(" "),a("td",[t._v("荷兰语(比利时)")]),t._v(" "),a("td",[t._v("nl-be")])]),t._v(" "),a("tr",[a("td",[t._v("葡萄牙语(葡萄牙)")]),t._v(" "),a("td",[t._v("pt-pt")]),t._v(" "),a("td",[t._v("葡萄牙语(巴西)")]),t._v(" "),a("td",[t._v("pt-br")])]),t._v(" "),a("tr",[a("td",[t._v("法语(法国)")]),t._v(" "),a("td",[t._v("fr-fr")]),t._v(" "),a("td",[t._v("法语(卢森堡)")]),t._v(" "),a("td",[t._v("fr-lu")])]),t._v(" "),a("tr",[a("td",[t._v("法语(瑞士)")]),t._v(" "),a("td",[t._v("fr-ch")]),t._v(" "),a("td",[t._v("法语(比利时)")]),t._v(" "),a("td",[t._v("fr-be")])]),t._v(" "),a("tr",[a("td",[t._v("法语(加拿大)")]),t._v(" "),a("td",[t._v("fr-ca")]),t._v(" "),a("td",[t._v("西班牙语(拉丁美洲)")]),t._v(" "),a("td",[t._v("es-la")])]),t._v(" "),a("tr",[a("td",[t._v("西班牙语(西班牙)")]),t._v(" "),a("td",[t._v("es-es")]),t._v(" "),a("td",[t._v("西班牙语(阿根廷)")]),t._v(" "),a("td",[t._v("es-ar")])]),t._v(" "),a("tr",[a("td",[t._v("西班牙语(美国)")]),t._v(" "),a("td",[t._v("es-us")]),t._v(" "),a("td",[t._v("西班牙语(墨西哥)")]),t._v(" "),a("td",[t._v("es-mx")])]),t._v(" "),a("tr",[a("td",[t._v("西班牙语(哥伦比亚)")]),t._v(" "),a("td",[t._v("es-co")]),t._v(" "),a("td",[t._v("西班牙语(波多黎各)")]),t._v(" "),a("td",[t._v("es-pr")])]),t._v(" "),a("tr",[a("td",[t._v("德语(德国)")]),t._v(" "),a("td",[t._v("de-de")]),t._v(" "),a("td",[t._v("德语(奥地利)")]),t._v(" "),a("td",[t._v("de-at")])]),t._v(" "),a("tr",[a("td",[t._v("德语(瑞士)")]),t._v(" "),a("td",[t._v("de-ch")]),t._v(" "),a("td",[t._v("俄语(俄罗斯)")]),t._v(" "),a("td",[t._v("ru-ru")])]),t._v(" "),a("tr",[a("td",[t._v("意大利语(意大利)")]),t._v(" "),a("td",[t._v("it-it")]),t._v(" "),a("td",[t._v("希腊语(希腊)")]),t._v(" "),a("td",[t._v("el-gr")])]),t._v(" "),a("tr",[a("td",[t._v("挪威语(挪威)")]),t._v(" "),a("td",[t._v("no-no")]),t._v(" "),a("td",[t._v("匈牙利语(匈牙利)")]),t._v(" "),a("td",[t._v("hu-hu")])]),t._v(" "),a("tr",[a("td",[t._v("土耳其语(土耳其)")]),t._v(" "),a("td",[t._v("tr-tr")]),t._v(" "),a("td",[t._v("捷克语(捷克共和国)")]),t._v(" "),a("td",[t._v("cs-cz")])]),t._v(" "),a("tr",[a("td",[t._v("斯洛文尼亚语")]),t._v(" "),a("td",[t._v("sl-sl")]),t._v(" "),a("td",[t._v("波兰语(波兰)")]),t._v(" "),a("td",[t._v("pl-pl")])]),t._v(" "),a("tr",[a("td",[t._v("瑞典语(瑞典)")]),t._v(" "),a("td",[t._v("sv-se")]),t._v(" "),a("td"),t._v(" "),a("td")])])]),t._v(" "),a("p",[a("strong",[t._v("注：由表中可以看出语言、国家/地区编码一般都是英文单词的缩写。")])]),t._v(" "),a("h3",{attrs:{id:"字符编码"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#字符编码"}},[t._v("#")]),t._v(" 字符编码")]),t._v(" "),a("p",[t._v("在此处，引申一下字符编码的概念。")]),t._v(" "),a("p",[a("strong",[t._v("是不是有了语言、国家/地区编码，计算机就可以识别各种语言了？")])]),t._v(" "),a("p",[t._v("答案是否。作为程序员，相信每个人都会遇到过这样的情况：期望打印中文，结果输出的却是乱码。")]),t._v(" "),a("p",[t._v("这种情况，往往是因为字符编码的问题。")]),t._v(" "),a("p",[t._v("计算机在设计之初，并没有考虑多个国家，多种不同语言的应用场景。当时定义一种"),a("code",[t._v("ASCII")]),t._v("码，将字母、数字和其他符号编号用 7 比特的二进制数来表示。后来，计算机在世界开始普及，为了适应多种文字，出现了多种编码格式，例如中文汉字一般使用的编码格式为"),a("code",[t._v("GB2312")]),t._v("、"),a("code",[t._v("GBK")]),t._v("。")]),t._v(" "),a("p",[t._v("由此，又产生了一个问题，"),a("strong",[t._v("不同字符编码之间互相无法识别")]),t._v("。于是，为了一统江湖，出现了 "),a("code",[t._v("unicode")]),t._v(" 编码。它为每种语言的每个字符设定了统一并且唯一的二进制编码，以满足跨语言、跨平台的文本转换需求。")]),t._v(" "),a("p",[t._v("有人不禁要问，既然 "),a("code",[t._v("Unicode")]),t._v(" 可以支持所有语言的字符，那还要其他字符编码做什么？")]),t._v(" "),a("p",[a("code",[t._v("Unicode")]),t._v(" 有一个缺点：为了支持所有语言的字符，所以它需要用更多位数去表示，比如 "),a("code",[t._v("ASCII")]),t._v(" 表示一个英文字符只需要一个字节，而 "),a("code",[t._v("Unicode")]),t._v(" 则需要两个字节。很明显，如果字符数多，这样的效率会很低。")]),t._v(" "),a("p",[t._v("为了解决这个问题，有出现了一些中间格式的字符编码：如 "),a("code",[t._v("UTF-8")]),t._v("、"),a("code",[t._v("UTF-16")]),t._v("、"),a("code",[t._v("UTF-32")]),t._v(" 等（中国的程序员一般使用"),a("strong",[t._v("UTF-8")]),t._v("编码）。")]),t._v(" "),a("h2",{attrs:{id:"java-中实现本地化"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#java-中实现本地化"}},[t._v("#")]),t._v(" Java 中实现本地化")]),t._v(" "),a("p",[t._v("本地化的实现原理很简单：")]),t._v(" "),a("ol",[a("li",[t._v("先定义好不同语种的模板；")]),t._v(" "),a("li",[t._v("选择语种；")]),t._v(" "),a("li",[t._v("加载指定语种的模板。")])]),t._v(" "),a("p",[t._v("接下来，本文会按照步骤逐一讲解实现本地化的具体步骤")]),t._v(" "),a("h3",{attrs:{id:"定义不同语种的模板"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#定义不同语种的模板"}},[t._v("#")]),t._v(" 定义不同语种的模板")]),t._v(" "),a("p",[a("strong",[t._v("Java 中将多语言文本存储在格式为 "),a("code",[t._v("properties")]),t._v(" 的资源文件中。")])]),t._v(" "),a("p",[t._v("它必须遵照以下的命名规范：")]),t._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[t._v("<资源名>_<语言代码>_<国家/地区编码>.properties\n")])])]),a("p",[t._v("其中，语言编码和国家/地区编码都是可选的。")]),t._v(" "),a("p",[t._v("注："),a("code",[t._v("<资源名>.properties")]),t._v(" 命名的本地化资源文件是"),a("strong",[t._v("默认的资源文件")]),t._v("，即某个本地化类型在系统中找不到对应的资源文件，就采用这个默认的资源文件。")]),t._v(" "),a("h4",{attrs:{id:"定义-properties-文件"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#定义-properties-文件"}},[t._v("#")]),t._v(" 定义 properties 文件")]),t._v(" "),a("p",[t._v("在"),a("code",[t._v("src/main/resources/locales")]),t._v(" 路径下定义名为 content 的不同语种资源文件：")]),t._v(" "),a("p",[a("strong",[t._v("content_en_US.properties")])]),t._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[t._v("helloWorld = HelloWorld!\ntime = The current time is %s.\n")])])]),a("p",[a("strong",[t._v("content_zh_CN.properties")])]),t._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[t._v("helloWorld = \\u4e16\\u754c\\uff0c\\u4f60\\u597d\\uff01\ntime = \\u5f53\\u524d\\u65f6\\u95f4\\u662f\\u0025\\u0073\\u3002\n")])])]),a("p",[t._v("可以看到：几个资源文件中，定义的 Key 完全一致，只是 Value 是对应语言的字符串。")]),t._v(" "),a("p",[t._v("虽然属性值各不相同，但属性名却是相同的，这样应用程序就可以通过 Locale 对象和属性名精确调用到某个具体的属性值了。")]),t._v(" "),a("h4",{attrs:{id:"unicode-转换工具"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#unicode-转换工具"}},[t._v("#")]),t._v(" Unicode 转换工具")]),t._v(" "),a("p",[t._v("上一节中，我们定义的中文资源文件中的属性值都是以\\u 开头的四位 16 进制数。其实，这表示的是一个 Unicode 编码。")]),t._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[t._v("helloWorld = \\u4e16\\u754c\\uff0c\\u4f60\\u597d\\uff01\ntime = \\u5f53\\u524d\\u65f6\\u95f4\\u662f\\u0025\\u0073\\u3002\n")])])]),a("p",[t._v("本文的字符编码中提到了，为了达到跨编码也正常显示的目的，有必要将非 "),a("code",[t._v("ASCII")]),t._v(" 字符转为 "),a("code",[t._v("Unicode")]),t._v(" 编码。上面的中文资源文件就是中文转为 "),a("code",[t._v("Unicode")]),t._v(" 的结果。")]),t._v(" "),a("p",[t._v("怎么将非 "),a("code",[t._v("ASCII")]),t._v(" 字符转为 "),a("code",[t._v("Unicode")]),t._v(" 编码呢？")]),t._v(" "),a("p",[t._v("JDK 在 bin 目录下为我们提供了一个转换工具："),a("strong",[t._v("native2ascii")]),t._v("。")]),t._v(" "),a("p",[t._v("它可以将中文字符的资源文件转换为 "),a("code",[t._v("Unicode")]),t._v(" 代码格式的文件，命令格式如下：")]),t._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[t._v("native2ascii [-reverse] [-encoding 编码] [输入文件 [输出文件]]\n")])])]),a("p",[t._v("假设"),a("strong",[t._v("content_zh_CN.properties")]),t._v(" 在 "),a("code",[t._v("d:\\")]),t._v(" 目录。执行以下命令可以新建一个名为 "),a("strong",[t._v("content_zh_CN_new.properties")]),t._v(" 的文件，其中的内容就中文字符转为 "),a("code",[t._v("UTF-8")]),t._v(" 编码格式的结果。")]),t._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[t._v("native2ascii -encoding utf-8 d:\\content_zh_CN.properties d:\\content_zh_CN_new.properties\n")])])]),a("h3",{attrs:{id:"选择语种"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#选择语种"}},[t._v("#")]),t._v(" 选择语种")]),t._v(" "),a("p",[t._v("定义了多语言资源文件，第二步就是根据本地语种选择模板文件了。")]),t._v(" "),a("h4",{attrs:{id:"locale"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#locale"}},[t._v("#")]),t._v(" Locale")]),t._v(" "),a("p",[t._v("在 Java 中，一个 "),a("code",[t._v("java.util.Locale")]),t._v(" 对象表示了特定的地理、政治和文化地区。需要 Locale 来执行其任务的操作称为语言环境敏感的操作，它使用 Locale 为用户量身定制本地信息。")]),t._v(" "),a("p",[t._v("它有三个构造方法")]),t._v(" "),a("p",[a("code",[t._v("Locale(String language)")]),t._v(" ：根据语言编码初始化\n"),a("code",[t._v("Locale(String language, String country)")]),t._v(" ：根据语言编码、国家编码初始化\n"),a("code",[t._v("Locale(String language, String country, String variant)")]),t._v(" ：根据语言编码、国家编码、变体初始化")]),t._v(" "),a("p",[t._v("此外，Locale 定义了一些常用的 Locale 常量："),a("code",[t._v("Locale.ENGLISH")]),t._v("、"),a("code",[t._v("Locale.CHINESE")]),t._v(" 等。")]),t._v(" "),a("div",{staticClass:"language-java extra-class"},[a("pre",{pre:!0,attrs:{class:"language-java"}},[a("code",[a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 初始化一个通用英语的locale.")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Locale")]),t._v(" locale1 "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("new")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Locale")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"en"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 初始化一个加拿大英语的locale.")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Locale")]),t._v(" locale2 "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("new")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Locale")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"en"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"CA"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 初始化一个美式英语变种硅谷英语的locale")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Locale")]),t._v(" locale3 "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("new")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Locale")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"en"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"US"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"SiliconValley"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 根据Locale常量初始化一个简体中文")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Locale")]),t._v(" locale4 "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Locale")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("SIMPLIFIED_CHINESE"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])])]),a("h3",{attrs:{id:"加载指定语种的模板"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#加载指定语种的模板"}},[t._v("#")]),t._v(" 加载指定语种的模板")]),t._v(" "),a("h4",{attrs:{id:"resourceboundle"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#resourceboundle"}},[t._v("#")]),t._v(" ResourceBoundle")]),t._v(" "),a("p",[t._v("Java 为我们提供了用于加载本地化资源文件的工具类："),a("code",[t._v("java.util.ResourceBoundle")]),t._v("。")]),t._v(" "),a("p",[a("code",[t._v("ResourceBoundle")]),t._v(" 提供了多个名为 "),a("code",[t._v("getBundle")]),t._v(" 的静态重载方法，这些方法的作用是用来根据资源名、Locale 选择指定语种的资源文件。需要说明的是： "),a("code",[t._v("getBundle")]),t._v(" 方法的第一个参数一般都是"),a("code",[t._v("baseName")]),t._v(" ，这个参数表示资源文件名。")]),t._v(" "),a("p",[a("code",[t._v("ResourceBoundle")]),t._v(" 还提供了名为 "),a("code",[t._v("getString")]),t._v(" 的方法，用来获取资源文件中 key 对应的 value。")]),t._v(" "),a("div",{staticClass:"language-java extra-class"},[a("pre",{pre:!0,attrs:{class:"language-java"}},[a("code",[a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("public")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("static")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("void")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("main")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("String")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v(" args"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 根据语言+地区编码初始化")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("ResourceBundle")]),t._v(" rbUS "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("ResourceBundle")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("getBundle")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"locales.content"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("new")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Locale")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"en"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"US"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 根据Locale常量初始化")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("ResourceBundle")]),t._v(" rbZhCN "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("ResourceBundle")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("getBundle")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"locales.content"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Locale")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("SIMPLIFIED_CHINESE"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 获取本地系统默认的Locale初始化")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("ResourceBundle")]),t._v(" rbDefault "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("ResourceBundle")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("getBundle")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"locales.content"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v('// ResourceBundle rbDefault =ResourceBundle.getBundle("locales.content", Locale.getDefault()); // 与上行代码等价')]),t._v("\n\n    "),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("System")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("out"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("println")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"us-US:"')]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("+")]),t._v(" rbUS"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("getString")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"helloWorld"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("System")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("out"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("println")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"us-US:"')]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("+")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("String")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("format")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("rbUS"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("getString")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"time"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"08:00"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("System")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("out"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("println")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"zh-CN："')]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("+")]),t._v(" rbZhCN"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("getString")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"helloWorld"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("System")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("out"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("println")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"zh-CN："')]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("+")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("String")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("format")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("rbZhCN"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("getString")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"time"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"08:00"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("System")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("out"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("println")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"default："')]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("+")]),t._v(" rbDefault"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("getString")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"helloWorld"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("System")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("out"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("println")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"default："')]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("+")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("String")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("format")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("rbDefault"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("getString")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"time"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"08:00"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),a("p",[a("strong",[t._v("输出")])]),t._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[t._v("us-US:HelloWorld!\nus-US:The current time is 08:00.\nzh-CN：世界，你好！\nzh-CN：当前时间是08:00。\ndefault：世界，你好！\ndefault：当前时间是08:00。\n")])])]),a("p",[t._v("注：在加载资源时，如果指定的本地化资源文件不存在，它会尝试按下面的顺序加载其他的资源：本地系统默认本地化对象对应的资源 -> 默认的资源。如果指定错误，Java 会提示找不到资源文件。")]),t._v(" "),a("h2",{attrs:{id:"支持本地化的工具类"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#支持本地化的工具类"}},[t._v("#")]),t._v(" 支持本地化的工具类")]),t._v(" "),a("p",[t._v("Java 中也提供了几个支持本地化的格式化工具类。例如："),a("code",[t._v("NumberFormat")]),t._v("、"),a("code",[t._v("DateFormat")]),t._v("、"),a("code",[t._v("MessageFormat")])]),t._v(" "),a("h3",{attrs:{id:"numberformat"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#numberformat"}},[t._v("#")]),t._v(" NumberFormat")]),t._v(" "),a("p",[a("code",[t._v("NumberFormat")]),t._v(" 是所有数字格式类的基类。它提供格式化和解析数字的接口。它也提供了决定数字所属语言类型的方法。")]),t._v(" "),a("div",{staticClass:"language-java extra-class"},[a("pre",{pre:!0,attrs:{class:"language-java"}},[a("code",[a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("public")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("static")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("void")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("main")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("String")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v(" args"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n\t"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("double")]),t._v(" num "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("123456.78")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\t"),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("NumberFormat")]),t._v(" format "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("NumberFormat")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("getCurrencyInstance")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Locale")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("SIMPLIFIED_CHINESE"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\t"),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("System")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("out"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("format")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"%f 的本地化（%s）结果: %s"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" num"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Locale")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("SIMPLIFIED_CHINESE"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" format"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("format")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("num"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),a("h3",{attrs:{id:"dateformat"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#dateformat"}},[t._v("#")]),t._v(" DateFormat")]),t._v(" "),a("p",[t._v("DateFormat 是日期、时间格式化类的抽象类。它支持基于语言习惯的日期、时间格式。")]),t._v(" "),a("div",{staticClass:"language-java extra-class"},[a("pre",{pre:!0,attrs:{class:"language-java"}},[a("code",[a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("public")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("static")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("void")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("main")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("String")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v(" args"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n\t"),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Date")]),t._v(" date "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("new")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Date")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\t"),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("DateFormat")]),t._v(" df "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("DateFormat")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("getDateInstance")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("DateFormat")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("MEDIUM"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Locale")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("ENGLISH"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\t"),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("DateFormat")]),t._v(" df2 "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("DateFormat")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("getDateInstance")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("DateFormat")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("MEDIUM"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Locale")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("SIMPLIFIED_CHINESE"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\t"),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("System")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("out"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("format")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"%s 的本地化（%s）结果: %s\\n"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" date"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Locale")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("SIMPLIFIED_CHINESE"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" df"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("format")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("date"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\t"),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("System")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("out"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("format")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"%s 的本地化（%s）结果: %s\\n"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" date"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Locale")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("SIMPLIFIED_CHINESE"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" df2"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("format")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("date"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),a("h3",{attrs:{id:"messageformat"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#messageformat"}},[t._v("#")]),t._v(" MessageFormat")]),t._v(" "),a("p",[t._v("Messageformat 提供一种与语言无关的拼接消息的方式。通过这种拼接方式，将最终呈现返回给使用者。")]),t._v(" "),a("div",{staticClass:"language-java extra-class"},[a("pre",{pre:!0,attrs:{class:"language-java"}},[a("code",[a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("public")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("static")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("void")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("main")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("String")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v(" args"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n\t"),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("String")]),t._v(" pattern1 "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"{0}，你好！你于  {1} 消费  {2} 元。"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\t"),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("String")]),t._v(" pattern2 "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"At {1,time,short} On {1,date,long}，{0} paid {2,number, currency}."')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\t"),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Object")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v(" params "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"Jack"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("new")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("GregorianCalendar")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("getTime")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("8888")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\t"),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("String")]),t._v(" msg1 "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("MessageFormat")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("format")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("pattern1"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" params"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\t"),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("MessageFormat")]),t._v(" mf "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("new")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("MessageFormat")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("pattern2"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Locale")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("US"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\t"),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("String")]),t._v(" msg2 "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" mf"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("format")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("params"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\t"),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("System")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("out"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("println")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("msg1"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\t"),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("System")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("out"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("println")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("msg2"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])])])}),[],!1,null,null,null);s.default=e.exports}}]);